# 内存优化
项目中最消耗内存占用的就是资源，所以对资源要有合理管理。  
creator的资源在内存中的管理方式： 
1. 存储方式：  
资源在加载完成后，会以{uuic:cc.Asset} 的形式被缓存到cc.assetManager.assets，以避免重读加载。
2. 引用计数
原理：将资源（可以是对象，内存或磁盘空间等等）的引用次数保存起来，当被引用次数变为零时就将其释放的过程。  
cocos：当资源加载完成会返回 cc.Asset 实例， 所有 cc.Asset 实例都拥有成员函数 addRef 和 decRef。

## 静态资源的内存管理
`静态资源`指的是`场景中直接或间接引用`到的`所有资源`  
在`场景资源`的`属性编辑器`中可以勾选`自动释放资源`选项，从而在`切换场景`时，会自动将旧场景使用的`静态资源释放掉`，从而节省内存的占用。
## 动态资源的内存管理
官方参考文档[加载资源](https://docs.cocos.com/creator/2.4/manual/zh/scripting/dynamic-load-resources.html?h=动态加载)  
需要注意的一点，CocosCreator中通过`cc.loader`去加载资源的所有方法，都是`异步`的，所以需要在回调中，确认加载完成后才能使用资源。